// Generated by CoffeeScript 1.4.0
(function() {
  var OauthAccessGrantSchema, Schema, mongoose;

  mongoose = require('mongoose');

  Schema = mongoose.Schema;

  /*
  A single, one time usable, access grant.
  */


  module.exports = OauthAccessGrantSchema = new mongoose.Schema({
    appId: {
      type: Schema.ObjectId
    },
    realm: {
      type: String
    },
    /*
          The type of identity. This is for future use.
    */

    identityType: {
      type: String,
      "default": "user"
    },
    /*
          The user id of the entity this was issued to, if available.
    */

    identityUserId: {
      type: Schema.ObjectId,
      ref: 'User'
    },
    redirectUrl: {
      type: String
    },
    scope: {
      type: [String],
      "default": function() {
        return [];
      }
    },
    createdAt: {
      type: Date,
      "default": function() {
        return new Date();
      }
    },
    grantedAt: {
      type: Date,
      "default": function() {
        return new Date();
      }
    },
    expiresAt: {
      type: Date,
      "default": null
    },
    revokedAt: {
      type: Date,
      "default": null
    },
    accessTokenId: {
      type: Schema.ObjectId,
      "default": null
    }
  }, {
    strict: true
  });

}).call(this);
